<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/caballo-css/index.css') }}">
    <title>Listado de Caballos</title>
</head>
<body>
    <header>
        <img id='logo' alt="logo" src="{{ url_for('static', filename='assets/logo.png') }}">
        <a class="btn" href="{{ url_for('users.show_home') }}">Volver al Inicio</a>
    </header>

    <h1>Listado de Caballos</h1>
    <form action="{{ url_for('caballos.listar_caballos') }}" method="GET">
        <input type="text" name="nombre" placeholder="Buscar por nombre..." value="{{ request.args.get('nombre') }}">
        <button type="submit">Buscar</button>
    </form>
    <a href="{{ url_for('caballos.crear_caballo') }}">Agregar Nuevo Caballo</a>
    <table>
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Fecha Nacimiento</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for caballo in caballos.items %}
            <tr>
                <td>{{ caballo.nombre }}</td>
                <td>{{ caballo.fecha_nacimiento }}</td>
                <td>
                    <a href="{{ url_for('caballos.mostrar_caballo', id=caballo.id) }}">Ver</a>
                    <a href="{{ url_for('caballos.editar_caballo', id=caballo.id) }}">Editar</a>
                    <form action="{{ url_for('caballos.eliminar_caballo', id=caballo.id) }}" method="POST" style="display:inline;">
                        <button type="submit" onclick="return confirm('¿Está seguro que desea eliminar este caballo?')">Eliminar</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Paginación -->
    <div class="pagination">
        {% if caballos.has_prev %}
        <a href="{{ url_for('caballos.listar_caballos', page=caballos.prev_num, nombre=request.args.get('nombre')) }}">Anterior</a>
        {% endif %}
        <span>Página {{ caballos.page }} de {{ caballos.pages }}</span>
        {% if caballos.has_next %}
        <a href="{{ url_for('caballos.listar_caballos', page=caballos.next_num, nombre=request.args.get('nombre')) }}">Siguiente</a>
        {% endif %}
    </div>
</body>
</html>
