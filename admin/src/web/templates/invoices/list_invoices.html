{% extends "layout.html" %}
<head>
    {% block imports %}
    <style>
        .box {
            background-color: rgb(174, 235, 225);
        }
        .search{
            display:flex;
            flex-direction: row;
            gap:1%;
        }
    </style>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/invoices/invoices_list.css') }}">
    {% endblock %}
</head>
<body>
    {% block content %}
    <form class="search" method="POST" id="search-form">
        <label for="first-name" class="label">
            <input type="search" placeholder="Nombre" name="first-name">
        </label>
        <label for="last-name" class="label">
            <input type="search" placeholder="Apellido" name="last-name">
        </label>
        <label for="from" class="label">
            <input type="date" name="from">
        </label>
        <label for="to" class="label">
            <input type="date" name="to">
        </label>
        <button type="submit" form="search-form" class="button is-rounded" style="background-color:#78b9bf"></button>
    </form>
    {% for invoice in invoices %}
    <div class="box has-background">
        <p>Id: {{invoice.id}}</p>
        <p>j&a: {{invoice.j_a}}</p>
        <p>Fecha de pago: {{invoice.pay_date}}</p>
        <p>Metodo de pago: {{invoice.payment_method}}</p>
        <p>Monto: {{invoice.amount}}</p>
        <p>Beneficiario: {{invoice.recipient}}</p>
        {% if eliminado %}
        <form action="{{ url_for('invoices.delete_invoice') }}" id="invoice_delete_form" class="form_style" method="POST">
            <input type="hidden" value={{invoice.id}} name="id">
            <button class="button" name="delete" style="background-color:#f5be6b">Eliminar</button>
        </form>
        <a class="button" href="{{url_for('invoices.update_invoice' ,invoice_id = invoice.id)}}">Actualizar</a>
        {% endif %}
    </div>
    {% endfor %}
    <div class="page-items">
        <p>{{invoices.first}} - {{invoices.last}} of {{invoices.total}} </p>
    </div>
    <div class="pagination">
        {% for page in invoices.iter_pages() %}
            {% if page %}
                {% if page != invoices.page %}
                    <a class="button" href="{{ url_for('invoices.invoices_index',page=page) }}">{{page}}</a>
                {% else %}
                    <strong>{{page}}</strong>
                {% endif %}
            {% else %}
                <span class="ellipsis">...</span>
            {% endif %}
        {% endfor %}
    </div>
    {% endblock %}
</body>